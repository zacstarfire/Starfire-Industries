/*
 # -----------------------------------------------------------------------------
 # ~/assets/themes/j1/modules/videojs/js/dailymotion/api/dailymotion.player.min.js
 # Vimeo Player|API
 #
 #  Copyright (C) Dailymotion 2023
 #
 # -----------------------------------------------------------------------------
*/

// Dailymotion Player Embed v-0.0.3352-rc1
// This file is generated dynamically, do not host it yourself
// Statically hosting or caching this file will break your integration
//
'use strict';var _dmpesplayer=function(){function oa(d,a){var b=Object.keys(d);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(d);a&&(c=c.filter(function(e){return Object.getOwnPropertyDescriptor(d,e).enumerable}));b.push.apply(b,c)}return b}function x(d){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?oa(Object(b),!0).forEach(function(c){Z(d,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(b)):
oa(Object(b)).forEach(function(c){Object.defineProperty(d,c,Object.getOwnPropertyDescriptor(b,c))})}return d}function C(d){"@babel/helpers - typeof";return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C(d)}function pa(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function");}function qa(d,a){for(var b=0;b<a.length;b++){var c=
a[b];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(d,ra(c.key),c)}}function sa(d,a,b){a&&qa(d.prototype,a);b&&qa(d,b);Object.defineProperty(d,"prototype",{writable:!1});return d}function Z(d,a,b){a=ra(a);a in d?Object.defineProperty(d,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[a]=b;return d}function aa(d,a){var b=Array.isArray(d)?d:void 0;if(!b)a:{var c=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=
c){var e,f,g,k=[],h=!0,m=!1;try{if(f=(c=c.call(d)).next,0===a){if(Object(c)!==c){b=void 0;break a}h=!1}else for(;!(h=(e=f.call(c)).done)&&(k.push(e.value),k.length!==a);h=!0);}catch(n){m=!0;var p=n}finally{try{if(!h&&null!=c.return&&(g=c.return(),Object(g)!==g)){b=void 0;break a}}finally{if(m)throw p;}}b=k}else b=void 0}if(!(d=b||ta(d,a)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return d}function ua(d){var a=Array.isArray(d)?ba(d):void 0;a||(a="undefined"!==typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"]?Array.from(d):void 0);if(!(d=a||ta(d)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return d}function ta(d,a){if(d){if("string"===typeof d)return ba(d,a);var b=Object.prototype.toString.call(d).slice(8,-1);"Object"===b&&d.constructor&&(b=d.constructor.name);
if("Map"===b||"Set"===b)return Array.from(d);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ba(d,a)}}function ba(d,a){if(null==a||a>d.length)a=d.length;for(var b=0,c=Array(a);b<a;b++)c[b]=d[b];return c}function ra(d){a:if("object"===typeof d&&null!==d){var a=d[Symbol.toPrimitive];if(void 0!==a){d=a.call(d,"string");if("object"!==typeof d)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}d=String(d)}return"symbol"===typeof d?d:String(d)}function va(){return(new URL(window.location.href)).searchParams.get("dmLogger")||
""}function wa(d,a){var b;if(eb&&console[a]){for(var c=arguments.length,e=Array(2<c?c-2:0),f=2;f<c;f++)e[f-2]=arguments[f];c=["%cPES%c".concat(d),"".concat("border-radius: 0.125rem; padding: 0.0625rem 0.1875rem; margin: 0 0.0625rem; color: white;","; background: purple"),"".concat("border-radius: 0.125rem; padding: 0.0625rem 0.1875rem; margin: 0 0.0625rem; color: white;","; background: #ae27ae")].concat(e);(b=console)[a].apply(b,ua(c))}}function fb(){var d=null;if(z())return l.log("Skipping 3rd party cookie detection on dailymotion.com"),
Promise.resolve();var a=new Promise(function(c){d=setTimeout(function(){l.log("3rd party cookie","Received detection timeout");c()},2E3)}),b=new Promise(function(c){var e=document.createElement("script");e.src="".concat("https://geo.dailymotion.com","/cookie.js");e.onload=function(){l.log("3rd party cookie","Script loaded");clearTimeout(d);return c()};e.onerror=function(){l.log("3rd party cookie","Script error");clearTimeout(d);return c()};document.head.appendChild(e)});return Promise.race([b,a])}
var xa=function(d){return new Promise(function(a,b){var c=d.getAttribute("load-status");"loaded"===c?a():"error"===c?b():(d.addEventListener("load",function(){d.setAttribute("load-status","loaded");a()}),d.addEventListener("error",function(){d.setAttribute("load-status","error");b()}))})},ya=function(d,a,b,c){d.addEventListener(a,b,c);return function(){d.removeEventListener(a,b,c)}},M=function(d,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:31536E6;b=["".concat(d,"=").concat(a),
"path=/","max-age=".concat(b),"samesite=lax","secure"];document.cookie=b.join(";")},N=function(d){var a=window.document.cookie.split(";").map(function(b){return b.trim()}).find(function(b){return b.startsWith(d)});return(null===a||void 0===a?void 0:a.split("=")[1])||""},O=function(){var d=[],a=new window.Uint16Array(32);window.crypto.getRandomValues(a);a.forEach(function(b){return d.push("000".concat(b.toString(16)).slice(-4))});return"".concat(d[0]).concat(d[1],"-").concat(d[2],"-").concat(d[3],
"-").concat(d[4],"-").concat(d[5]).concat(d[6]).concat(d[7])},t={PUBLIC:{AD_CLICK:"ad_click",AD_COMPANIONSREADY:"ad_companions",AD_DURATIONCHANGE:"ad_durationchange",AD_END:"ad_end",AD_ERROR:"ad_error",AD_IMPRESSION:"ad_impression",AD_LOADED:"ad_loaded",AD_PAUSE:"ad_pause",AD_PLAY:"ad_play",AD_READYTOFETCH:"ad_readytofetch",AD_START:"ad_start",AD_TIMECHANGE:"ad_timeupdate",PLAYER_ASPECTRATIOCHANGE:"pes_aspectratiochange",PLAYER_CRITICALPATHREADY:"playback_ready",PLAYER_END:"end",PLAYER_ERROR:"error",
PLAYER_HEAVYADSINTERVENTION:"player_heavyadsintervention",PLAYER_PIPEXPANDEDCHANGE:"pes_pipexpandedchange",PLAYER_PLAYBACKPERMISSION:"playback_resolution",PLAYER_PLAYBACKSPEEDCHANGE:"playbackspeedchange",PLAYER_PRESENTATIONMODECHANGE:"pes_presentationmodechange",PLAYER_SCALEMODECHANGE:"pes_scalemodechange",PLAYER_START:"start",PLAYER_VIDEOCHANGE:"videochange",PLAYER_VIDEOLISTCHANGE:"videolistchange",PLAYER_VIEWABILITYCHANGE:"pes_viewabilitychange",PLAYER_VOLUMECHANGE:"volumechange",VIDEO_BUFFERING:"waiting",
VIDEO_DURATIONCHANGE:"video_durationchange",VIDEO_END:"video_end",VIDEO_PAUSE:"pause",VIDEO_PLAY:"play",VIDEO_PLAYING:"playing",VIDEO_PROGRESS:"progress",VIDEO_QUALITIESREADY:"qualitiesavailable",VIDEO_QUALITYCHANGE:"qualitychange",VIDEO_SEEKEND:"seeked",VIDEO_SEEKSTART:"seeking",VIDEO_START:"video_start",VIDEO_SUBTITLESCHANGE:"subtitlechange",VIDEO_SUBTITLESREADY:"subtitlesavailable",VIDEO_TIMECHANGE:"timeupdate"},PRIVATE:{ALL:"all",BACK_TO_INLINE_DISPLAY_REQUESTED:"pes_pip_back_to_inline_display_requested",
CLOSE_PIP_REQUESTED:"pes_pip_close_requested",COLLAPSE_PIP_REQUESTED:"pes_pip_collapse_requested",EXPAND_PIP_REQUESTED:"pes_pip_expand_requested",PLAYER_APIREADY:"apiready",PLAYER_CROSSICONCLICK:"crossiconclick",PLAYER_FULLSCREENCHANGE:"fullscreenchange",PLAYER_NATIVEPIPCHANGE:"presentationmodechange",PLAYER_STATE:"playerstate",WRITE_UID:"pes_write_uid"}},P={CUSTOMCONFIG:"set-ads-config",FULLSCREEN:"fullscreen",INIT_PIP_IFRAME_CHUNK:"initPesPipChunk",LOAD:"load",LOOP:"loop",MUTED:"muted",NOTIFY_EMBEDDER_URL_CHANGED:"notifyEmbedderURLChanged",
NOTIFY_PIP_CHANGED:"notifyPesPipChanged",PAUSE:"pause",PLAY:"play",QUALITY:"quality",SCALE:"scaleMode",SEEK:"seek",SPEED:"speed",STATE:"playerstate",SUBTITLES:"subtitle",UPDATE_NEON_TRACKING_DATA:"updateNeonTrackingData",UPDATE_PARAMS:"updatePesParams",VIEWPORT_RESIZE:"notifyPesViewportSizeChanged",VOLUME:"volume",CONTROLS:"controls"},Q=function(d,a){if(d._do_not_use_07eff3cdc5fbd340477d.iframe.contentWindow){for(var b=arguments.length,c=Array(2<b?b-2:0),e=2;e<b;e++)c[e-2]=arguments[e];d._do_not_use_07eff3cdc5fbd340477d.iframe.contentWindow.postMessage(JSON.stringify({command:a,
parameters:c}),"https://geo.dailymotion.com")}},R=function(d,a){window.postMessage(JSON.stringify(x({event:d},a)),window.origin)},I=function(d,a,b){return za(d,a,b)},Aa=function(d,a){return za(null,d,a)},za=function(d,a,b){return ya(window,"message",function(c){var e=c.origin;c=c.data;if((e===window.origin||"https://geo.dailymotion.com"===e)&&c&&"string"===typeof c)try{var f=JSON.parse(c);"all"!==a&&a!==f.event||null!==d&&d._do_not_use_07eff3cdc5fbd340477d.id!==f.id||b(f)}catch(g){}})},eb=va().split(",").includes("pes"),
l={log:function(d){for(var a=arguments.length,b=Array(1<a?a-1:0),c=1;c<a;c++)b[c-1]=arguments[c];return wa.apply(void 0,[d,"log"].concat(b))},error:function(d){for(var a=arguments.length,b=Array(1<a?a-1:0),c=1;c<a;c++)b[c-1]=arguments[c];return wa.apply(void 0,[d,"error"].concat(b))}},q={"udger":{"browserOsFamily":"Windows","browserOsName":"Windows 10","browserUaFamily":"Chrome","browserUaName":"Chrome 117.0.0.0","browserUaVersion":117,"deviceType":"desktop"},"geoip":{"visitorAsNumber":"AS3320","visitorCity":"D\u00c3\u00bcsseldorf","visitorContinent":"EU","visitorCountry":"DE","visitorRegion":"NW"},"playerEnv":"prod","playerGatekeepers":["PV5_ADSENSE_DISPLAY_PREROLL","PV5_AD_BUFFET","PV5_AD_COOKIE_SYNC","PV5_AUDIO_ADS_POC","PV5_CONSENT","PV5_COOKIE_SYNC_AB_TEST","PV5_DISABLE_AUDIO_VISUALIZER","PV5_ENABLE_IMA_OMSDK","PV5_IAS_INAPP","PV5_IAS_SAMPLING","PV5_IGNORE_EARLY_LOAD_MIDROLL","PV5_IMA_CUSTOM_PLAYBACK_IOS","PV5_IMA_NATIVE_POC","PV5_IMA_OVERLAY","PV5_IMA_REQUEST_TIMEOUT","PV5_LIVE_MIDROLL_DISABLED","PV5_MOAT_30","PV5_MULTI_FALLBACK","PV5_OEMBED_GEO","PV5_OMSDK","PV5_OMSDK_NATIVE","PV5_PROXY_LOAD_POSTROLL","PV5_SAVE_VAST_RECORD","PV5_TEMP_AD_SLOT_HEIGHT","PV5_TEMP_IMA_PAGEURL","PV5_TEMP_IMA_PAGEURL_OFFSITE","PV5_TEMP_VMAPNOJSONP","PV5_VERTICAL_ADS","PV5_WATCHTOWER","PV5_SIMID"],"trafficSegment":146939,"v1st":"8ae7e19f-db58-490d-b254-659d3cfc7013","player":{"id":"default","ownerId":null,"status":"ok","aspectRatio":"16:9","autoskipAfter":10,"autostart":"firstTimeViewable","color":null,"enableHeaderDetectionOverlap":false,"enableAds":true,"enableAdsAutopauseInactiveTab":false,"enableAdsControls":true,"enableAutomaticRecommendations":true,"enableAutoNext":true,"enableAutonext":true,"enableAutoskip":false,"enableChannelLink":true,"enableDMLogo":true,"enableDmLogo":true,"enableGooglePolicyUi":false,"enableInfo":true,"enablePlaybackControls":true,"enableQueue":true,"enableReceiveUrlLocation":false,"enableSharing":true,"enableSharingUrlLocation":false,"enableStartPipExpanded":false,"enableStartscreenDMLink":true,"enableTitlesInVideoCards":true,"enableVideoTitleLink":true,"enableWaitForCustomConfig":false,"pip":"off","watermarkImageType":"none","watermarkImageUrl":"","watermarkLinkType":"none","watermarkLinkUrl":""}},Ba=[{key:"id",isPublic:!0,isTrackable:!0},{key:"ownerId",isPublic:!1,isTrackable:!1},{key:"aspectRatio",isPublic:!0,isTrackable:!0},{key:"autoskipAfter",isPublic:!1,isTrackable:!0},{key:"autostart",
isPublic:!0,isTrackable:!0},{key:"color",isPublic:!0,isTrackable:!0},{key:"enableAds",isPublic:!1,isTrackable:!0},{key:"enableAdsAutopauseInactiveTab",isPublic:!1,isTrackable:!0},{key:"enableAdsControls",isPublic:!0,isTrackable:!0},{key:"enableAutonext",isPublic:!0,isTrackable:!0},{key:"enableAutoskip",isPublic:!1,isTrackable:!0},{key:"enableChannelLink",isPublic:!0,isTrackable:!0},{key:"enableDmLogo",isPublic:!0,isTrackable:!0},{key:"enableGooglePolicyUi",isPublic:!0,isTrackable:!0},{key:"enableHeaderDetectionOverlap",
isPublic:!1,isTrackable:!0},{key:"enableInfo",isPublic:!0,isTrackable:!0},{key:"enablePlaybackControls",isPublic:!0,isTrackable:!0},{key:"enableQueue",isPublic:!0,isTrackable:!0},{key:"enableReceiveUrlLocation",isPublic:!0,isTrackable:!0},{key:"enableSharing",isPublic:!0,isTrackable:!0},{key:"enableSharingUrlLocation",isPublic:!0,isTrackable:!0},{key:"enableStartPipExpanded",isPublic:!0,isTrackable:!0},{key:"enableStartscreenDMLink",isPublic:!0,isTrackable:!0},{key:"enableTitlesInVideoCards",isPublic:!0,
isTrackable:!0},{key:"enableVideoTitleLink",isPublic:!0,isTrackable:!0},{key:"enableWaitForCustomConfig",isPublic:!0,isTrackable:!0},{key:"pip",isPublic:!0,isTrackable:!0},{key:"watermarkImageType",isPublic:!0,isTrackable:!0},{key:"watermarkImageUrl",isPublic:!0,isTrackable:!1},{key:"watermarkLinkType",isPublic:!0,isTrackable:!0},{key:"watermarkLinkUrl",isPublic:!0,isTrackable:!1}],ca=function(d,a){var b={};Ba.filter(function(c){return c[a]}).forEach(function(c){c=c.key;b[c]=d[c]});return b},gb=function(d){var a=
window.dailymotion._do_not_use_07eff3cdc5fbd340477d.settings;return void 0!==a[d]?Promise.resolve(a[d]):window.fetch("".concat("https://geo.dailymotion.com","/player/").concat(d,".json"),{method:"GET"}).then(function(b){return b.json()}).then(function(b){Ca(b);l.log("Player settings",b);return b})["catch"](function(b){console.error("Settings fetch error: ",b)})},hb=function(d){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a&&"object"===C(a)&&Object.keys(a).forEach(function(b){Ba.map(function(c){return c.key}).includes(b)&&
z()&&(d[b]=a[b],d.hasOverride=!0)});return d},Ca=function(d){"not_found"===d.status?console.warn("".concat("The player configuration ID has not been found"," : ").concat(d.id)):("deleted"===d.status&&console.warn("".concat("The player configuration ID has been deleted"," : ").concat(d.id)),window.dailymotion._do_not_use_07eff3cdc5fbd340477d.settings[d.id]=d)},Da=function(d){return"string"===typeof d?ib(d):d},ib=function(d){var a={};d.split("&").forEach(function(b){b=b.split("=");var c=aa(b,2);b=c[0];
c=c[1];if(b&&c){var e=b.match(/([a-zA-Z0-9]+)\[([a-zA-Z0-9]+)\]/);"true"===c?a[b]=!0:"false"===c?a[b]=!1:c.match(/^[0-9]+$/)?a[b]=b.match(/color$/i)?c:parseInt(c):e?a[e[1]]=x({},a[e[1]],Z({},e[2],decodeURIComponent(c))):a[b]=decodeURIComponent(c)}});return a},z=function(){return(window.location.hostname||window.origin).endsWith(".dailymotion.com")},S=!1,Ea=function(){return S},T=!1,Fa=new RegExp(/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/),da=null,jb=function(){var d=N("uid_dm");
return null===d||void 0===d?void 0:d.match(Fa)},kb=new RegExp(/[A-F0-9]{32}/),D=null,lb="xbzwps xbzwyj xkb83k x5xhrd x2k4l07 xgphb5 x2k4kr6 x2k4l64 x1fv3qc x1uzrwn".split(" "),Ga={inherit:"","16:9":"56.25%","4:3":"75%","1:1":"100%","3:4":"133.3%","9:16":"177.7%"},Ha={SMALL:480,MEDIUM:1800,LARGE:2160},mb="fit fill fillLeft fillRight fillTop fillBottom".split(" "),Ia=function(d,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=Object.prototype.hasOwnProperty.call(Ga,a)?a:"16:9";Object.assign(d._do_not_use_07eff3cdc5fbd340477d.rootNode.style,
{background:"#000",height:"inherit"===c?"100%":"",paddingBottom:Ga[c],position:"relative",width:"inherit"===c?"100%":""});Object.assign(d._do_not_use_07eff3cdc5fbd340477d.iframe,{height:"100%",width:"100%"});d._do_not_use_07eff3cdc5fbd340477d.stateFromPES.playerAspectRatio=c;b.withPesEvent&&R(t.PUBLIC.PLAYER_ASPECTRATIOCHANGE,{id:d._do_not_use_07eff3cdc5fbd340477d.id,aspectRatio:c})},Ja=function(d,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=mb.includes(a)?a:"fit";d._do_not_use_07eff3cdc5fbd340477d.stateFromPES.playerScaleMode=
c;b.withPesEvent&&R(t.PUBLIC.PLAYER_SCALEMODECHANGE,{id:d._do_not_use_07eff3cdc5fbd340477d.id,scaleMode:c})},Ka=!1,La=!1,Ma=!1,ea=!1,fa=!1,rb=function(){function d(a,b,c,e,f,g,k,h){var m=this;pa(this,d);this._do_not_use_07eff3cdc5fbd340477d={placeholderNode:f,settings:g,id:a,iframe:e,index:c,initialized:!1,observer:k,viewportResizeListener:null,rootNode:b,stateFromPES:{playerAspectRatio:null,playerIsViewable:null,playerPip:null,playerPipDisplay:window.innerWidth<=Ha.SMALL?"smallViewport":"largeViewport",
playerPipIsExpanded:!1,playerPipStatus:"off"===g.pip?"disabled":"enabled",playerPresentationMode:"inline",playerScaleMode:null}};k.init(g,e);ea=h;Ia(this,g.aspectRatio);Ja(this,g.scaleMode);if(!jb())var p=I(this,t.PRIVATE.WRITE_UID,function(){var n;!1!==(null===(n=q.player)||void 0===n?void 0:n.enableAds)&&Ea&&M("uid_dm",da,33696E3);p()});Ka=new Promise(function(n){var r=I(m,t.PRIVATE.PLAYER_APIREADY,function(){m._do_not_use_07eff3cdc5fbd340477d.iframe.removeAttribute("name");r();n()})});La=new Promise(function(n,
r){window._dmDynamicImportPolyfill("pes.playerInterface.f25338ef.js").then(function(){return window.dailymotion._do_not_use_07eff3cdc5fbd340477d.api(m)}).then(n)["catch"](function(y){return r(y)})});Ma=new Promise(function(n,r){"off"!==g.pip?(window.dailymotion._do_not_use_07eff3cdc5fbd340477d.playerSelectedForPip?console.warn("[".concat(g.id,"] ").concat("PIP is already enabled with another configuration")):window.dailymotion._do_not_use_07eff3cdc5fbd340477d.playerSelectedForPip=m,window._dmDynamicImportPolyfill("pes.pip.e5452126.js").then(n)["catch"](function(y){return r(y)})):
n()})}sa(d,[{key:"initialize",value:function(){var a=this,b=this._do_not_use_07eff3cdc5fbd340477d,c=b.settings,e=c.autostart,f=c.pip,g=b.id,k=b.observer,h=b.rootNode;b.initialized||(k.earlyObserve(h),this._do_not_use_07eff3cdc5fbd340477d.initialized=Promise.all([Ma,Ka,La]).then(function(){k.unobserve(h);I(a,t.PUBLIC.PLAYER_VIDEOCHANGE,function(m){a._do_not_use_07eff3cdc5fbd340477d.iframe.setAttribute("title","Dailymotion video player - ".concat(m.title));ea&&!fa&&(k.unobserve(h),k.observe(h));fa=
!0});"off"!==f&&(window.dailymotion._do_not_use_07eff3cdc5fbd340477d.playerSelectedForPip===a&&window.dailymotion.pipResume(),Q(a,P.INIT_PIP_IFRAME_CHUNK));nb();"firstTimeViewable"===e&&ob(a);pb(a)}).then(function(){l.log("Player","".concat(g," fully initialized"));k.observe(h);return a}));return this._do_not_use_07eff3cdc5fbd340477d.initialized}},{key:"destroy",value:function(){var a=this._do_not_use_07eff3cdc5fbd340477d,b=a.placeholderNode,c=a.id,e=a.rootNode,f=a.removeAllListeners;a.observer.unobserve(e);
f();qb(this);e.parentNode.replaceChild(b,e);this===window.dailymotion._do_not_use_07eff3cdc5fbd340477d.playerSelectedForPip&&(window.dailymotion.pipClose(),window.dailymotion._do_not_use_07eff3cdc5fbd340477d.playerSelectedForPip=null);window.removeEventListener("resize",this._do_not_use_07eff3cdc5fbd340477d.viewportResizeListener);delete window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players[c]}},{key:"isEligibleForPipDisplay",value:function(a){var b=this._do_not_use_07eff3cdc5fbd340477d.settings.pip;
return"off"===b?{status:!1,reason:"PIP is OFF"}:ea&&!fa?{status:!1,reason:"empty embed without videochange event"}:a?{status:!0,reason:"PIP is ON and was viewable at least once"}:{status:"instant"===b,reason:"instant"===b?"PIP is INSTANT":"was not viewable at least once"}}}]);return d}(),ob=function(d){var a=I(d,t.PUBLIC.PLAYER_VIEWABILITYCHANGE,function(b){var c=b.viewable;b=b.wasViewableAtLeastOnce;d&&(c||d.isEligibleForPipDisplay(b).status)&&(a(),d.play())})},pb=function(d){d._do_not_use_07eff3cdc5fbd340477d.viewportResizeListener=
function(){Q(d,P.VIEWPORT_RESIZE,{width:window.innerWidth,height:window.innerHeight})};window.addEventListener("resize",d._do_not_use_07eff3cdc5fbd340477d.viewportResizeListener)},nb=function(){Aa(t.PUBLIC.PLAYER_VIEWABILITYCHANGE,function(d){var a=d.viewable;if(d=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players[d.id])d._do_not_use_07eff3cdc5fbd340477d.stateFromPES.playerIsViewable=a})},qb=function(d){var a=function(b){console.warn("Invalid call to player.".concat(b,"() : player ").concat(d._do_not_use_07eff3cdc5fbd340477d.id,
" has been destroyed"))};Object.keys(d).forEach(function(b){"function"===typeof d[b]&&(d[b]=function(){a(b)})});Object.getOwnPropertyNames(Object.getPrototypeOf(d)).forEach(function(b){"constructor"!==b&&"function"===typeof d[b]&&(d[b]=function(){a(b)})})},Na=function(d){var a;return null===(a=q.playerGatekeepers)||void 0===a?void 0:a.includes(d)},Oa=function(){var d=window.navigator.connection;return d&&d.effectiveType?d.effectiveType:null},ha=function b(a){var c={};Object.keys(a).forEach(function(e){var f=
a[e];if(void 0!==f&&null!==f&&""!==f){if(null===f)var g=!1;else"object"!==C(f)?g=!1:(g=Object.getPrototypeOf(f),g=g===Object.prototype||null===g);c[e]=g?b(f):f}});return c},sb=function(){var a=window.performance.getEntriesByType("resource").find(function(c){return c.name===document.currentScript.src}),b=function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6E3;return"number"!==typeof c||Number.isNaN(c)||0>c?null:c>e?e:Math.round(c)};return a?{pes_res:{start_time:b(a.startTime,3E4)},
pes_custom:{script_request:b(a.requestStart-a.startTime),script_response_start:b(a.responseStart-a.startTime),script_response_end:b(a.responseEnd-a.startTime)}}:null},E=q.udger,Pa=E.browserOsFamily,Qa=E.browserOsName,Ra=E.browserUaFamily,Sa=E.browserUaName,tb=E.browserUaVersion,Ta=E.deviceType,J=q.geoip,Ua=J.visitorAsNumber,ub=J.visitorCity,Va=J.visitorContinent,Wa=J.visitorCountry,Xa=J.visitorRegion,F=q.player,vb=q.playerEnv,ia=q.trafficSegment,wb=function(a,b){a={name:"life_cycle.embedStart",version:"1.0",
data:{context:{visitor_group:Math.ceil(ia/1E4)},created_ts:Date.now(),empty_player:b,info:{browser:{effective_connection_type:Oa(),os_family:Pa,os_name:Qa,ua_family:Ra,ua_name:Sa,ua_version:tb,user_agent:window.navigator.userAgent},device:{type:Ta,width:window.innerWidth,height:window.innerHeight},player:{config:ca(F,"isTrackable"),embedder:document.location.href,embedder_hostname:document.location.hostname,env:vb,secure:!0,version:"v-0.0.3352-rc1"},visitor:{as_number:Ua,continent:Va,country:Wa,onsite:z(),
referer:document.referer,region:Xa,timezone_offset:-6E4*(new Date).getTimezoneOffset(),traffic_segment:ia}},perf:sb(),settings:{embed_index:a,pubtool:"pes"}}};F.ownerId&&(a.data.info.publisher={type:"player",xid:F.ownerId});a={channel:"player",edward:"1.1",sent_ts:Date.now(),events:[ha(a)],stack_ctx:{player_stack:"noworker"}};window.fetch("https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(a)})},Ya=function(a){var b=a.name,c=a.emptyPlayer,e=a.pesUUID,f=a.pesIframeIndex,g=a.pesIntegrationType;
if(Na("PV5_WATCHTOWER")){a=Date.now();c={name:b,version:"1.0",data:{browser:{effective_connection_type:Oa(),os_family:Pa,os_name:Qa,ua_family:Ra,ua_name:Sa,user_agent:window.navigator.userAgent},created_ts:a,device:{type:Ta,height:window.screen.height,width:window.screen.width},player:{embedder:document.location.href,embedder_hostname:document.location.hostname,pes_uuid:e,pes_iframe_index:f,pes_integration_type:g,is_empty:c,pubtool:"pes",version:"v-0.0.3352-rc1",settings:ca(F,"isTrackable")},timestamp:{created_event:a,
delta_previous_event:window.dailymotion._do_not_use_07eff3cdc5fbd340477d.pesLastEventTs?a-window.dailymotion._do_not_use_07eff3cdc5fbd340477d.pesLastEventTs:null},visitor:{as_number:Ua,city:ub,continent:Va,country:Wa,id:D,onsite:z(),referer:document.referer,region:Xa,timezone_offset:-6E4*(new Date).getTimezoneOffset(),traffic_segment:ia}}};F.ownerId&&(c.data.publisher={xid:F.ownerId});window.dailymotion._do_not_use_07eff3cdc5fbd340477d.pesLastEventTs=a;var k={channel:"player",edward:"1.1",events:[ha(c)],
sent_ts:Date.now()};window.fetch("https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(k),headers:{"content-type":"text/plain; charset=UTF-8"}}).then(function(h){200===h.status?l.log("Watchtower",b,"sent",k.events[0]):l.error("Watchtower",b,"failed",h.status,k.events[0])})["catch"](function(h){l.error("Watchtower",b,"failed",h.message,k.events[0])})}},Za=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],yb=function(a,b,c,e){if(!0===b)return l.log("Observer","No header overlapping ! Reason: IO isVisible is true"),
{status:!1,marginTop:null};var f=a.getBoundingClientRect();a=f.x;var g=f.y,k=f.width;f=f.height;if(0<=g)return l.log("Observer","Overlapping detection canceled ! Reason : Player is not about to pass above the fold, y:".concat(g)),{status:!1,marginTop:null};e=document.elementFromPoint(a+Math.round(.5*k),g+Math.round(f*(1-e)));if(!e)return l.log("Observer","No header overlapping ! Reason: No overlapping element"),{status:!1,marginTop:null};if(c.isSameNode(e))return l.log("Observer","No header overlapping ! Reason: Overlapping element is the same as the player iframe"),
{status:!1,marginTop:null};c=xb(e);if(!c)return l.log("Observer",'No header overlapping ! Reason: Overlapping element or ancestors are not in "fixed" position'),{status:!1,marginTop:null};var h=c.getBoundingClientRect(),m=h.x,p=h.y,n=h.width;h=h.height;l.log("Observer","Overlapping header detection data :\n        - IO isVisible : ".concat(b,"\n        - targetX : ").concat(a,"\n        - targetY : ").concat(g,"\n        - targetWidth : ").concat(k,"\n        - targetHeight : ").concat(f,"\n        - fixedElementX : ").concat(m,
"\n        - fixedElementY: ").concat(p,"\n        - fixedElementWidth: ").concat(n,"\n        - fixedElementHeight: ").concat(h,"\n        - fixed element:"),c,"\n        - overlapping element:",e);if(0!==p)return l.log("Observer","No header overlapping ! Reason: Overlapping element Y position is not 0"),{status:!1,marginTop:null};if(!(m<=a&&n>=k))return l.log("Observer","No header overlapping ! Reason: Overlapping element is not fully covering the player width"),{status:!1,marginTop:null};l.log("Observer",
"Fixed header is overlapping player iframe");return{status:!0,marginTop:h}},$a=function(a){return a.enableHeaderDetectionOverlap||Na("PV5_PES_HEADER_OVERLAP_DETECTION")},xb=function(a){try{for(;a;){var b=window.getComputedStyle(a).getPropertyValue("position").toLowerCase();if("fixed"===b||"sticky"===b)return a;a=a.parentNode instanceof HTMLElement&&"BODY"!==a.tagName?a.parentNode:null}return null}catch(c){return null}},zb=function(){function a(){pa(this,a);this.uiActionOrigin=this.intersectionObserver=
null;this.earlyObserverMode=this.wasViewableAtLeastOnce=!1;this.playerIframe=this.playerSettings=null;this.hasCompletedHeaderDetection=!1;this.intersectionObserver=new window.IntersectionObserver(this.intersectionObserverCallback.bind(this),{threshold:Za})}sa(a,[{key:"init",value:function(b,c){this.playerSettings=b;this.playerIframe=c;l.log("Observer","Observer initialized ".concat($a(this.playerSettings)?"with":"without"," header detection"))}},{key:"intersectionObserverCallback",value:function(b){var c=
this;b.forEach(function(e){var f=e.target,g=e.isVisible;if((e=.5<=e.intersectionRatio)&&$a(c.playerSettings)&&!c.hasCompletedHeaderDetection&&0>=f.getBoundingClientRect().y){g=yb(f,g,c.playerIframe,.5);var k=g.marginTop;g.status&&(c.hasCompletedHeaderDetection=!0,e=!1,c.intersectionObserver.disconnect(),c.intersectionObserver=null,l.log("Observer","Defining new observer with root marginTop",k),c.intersectionObserver=new window.IntersectionObserver(c.intersectionObserverCallback.bind(c),{rootMargin:"-".concat(k,
"px 0px 0px 0px"),threshold:Za}),c.intersectionObserver.observe(f))}e&&!c.wasViewableAtLeastOnce&&(l.log("Observer","Player iframe was viewable at least once"),c.wasViewableAtLeastOnce=!0);c.earlyObserverMode||R(t.PUBLIC.PLAYER_VIEWABILITYCHANGE,x({id:f.id,viewable:e,wasViewableAtLeastOnce:c.wasViewableAtLeastOnce},c.uiActionOrigin?{uiActionOrigin:c.uiActionOrigin}:{}));c.uiActionOrigin=null})}},{key:"observe",value:function(b){var c;null===(c=this.intersectionObserver)||void 0===c?void 0:c.observe(b)}},
{key:"earlyObserve",value:function(b){var c;l.log("Observer","Early intersection observer has started");this.earlyObserverMode=!0;null===(c=this.intersectionObserver)||void 0===c?void 0:c.observe(b)}},{key:"unobserve",value:function(b){var c;this.earlyObserverMode=!1;null===(c=this.intersectionObserver)||void 0===c?void 0:c.unobserve(b)}},{key:"disconnect",value:function(){var b;null===(b=this.intersectionObserver)||void 0===b?void 0:b.disconnect()}},{key:"setUIActionOrigin",value:function(b){this.uiActionOrigin=
b}}]);return a}(),ab={create:function(a,b,c,e){var f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},g=f.videoId,k=f.playlistId,h=f.playerId,m=f.params,p=f.settings,n=f.referrerPolicy;if(!document.body||!document.body.contains(a))return console.warn("The player placeholder node must be added in the body element"),Promise.resolve();var r=a.id||"dailymotion-instance-".concat(O()),y=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.iframeIndex++,K=!g&&!k,ja=new zb,A=Da(m),ka=Da(p),la="pes".concat((null===
A||void 0===A?0:A.dmPubtool)?"-".concat(A.dmPubtool):"");return gb(h).then(function(B){B=hb(B,ka);var G=Ab(g,k,h,A,n),u=Bb(r,h),H=Cb(),w=new rb(r,u,b,G,a,B,ja,K);window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players[r]=w;Ya({name:"vital_pes_iframe_start",emptyPlayer:K,pesUUID:c,pesIframeIndex:y,pesIntegrationType:e});return Db(r,b,c,y,e,la,B).then(function(v){G.name=encodeURIComponent(v);u.appendChild(H);H.appendChild(G);a.parentNode.replaceChild(u,a);return w})})}},Ab=function(a,b,c){var e=
3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},f=4<arguments.length?arguments[4]:void 0,g=document.createElement("iframe"),k="default"!==c?"/player/".concat(c,".html"):"/player.html",h=x({},a&&{video:a},{},b&&{playlist:b});Object.keys(e).filter(function(p){return!h[p]}).forEach(function(p){e[p]&&"object"===C(e[p])?Object.keys(e[p]).forEach(function(n){h["".concat(p,"[").concat(n,"]")]=encodeURIComponent(e[p][n])}):h[p]=encodeURIComponent(e[p])});var m=window.location.href.match(/dmDevBackendEnv=[-_a-zA-Z0-9]+/);
null!==m&&(m=m[0].split("="),m=aa(m,2)[1],h.dmDevBackendEnv=m);m=Object.keys(h).map(function(p){return"".concat(p,"=").concat(h[p])}).join("&");Object.assign(g,x({allow:"autoplay; fullscreen; picture-in-picture",allowFullscreen:!0,className:"dailymotion-player",frameBorder:0,src:"".concat("https://geo.dailymotion.com").concat(k,"?").concat(m),title:"Dailymotion video player"},f&&{referrerPolicy:f}));return g},Db=function(a,b,c,e,f,g,k){var h=q.trafficSegment,m=q.playerGatekeepers,p=q.player,n=window,
r=n.location,y=n.origin,K=window.dailymotion._do_not_use_07eff3cdc5fbd340477d,ja=K.pesLastEventTs,A=K.neonTrackingData,ka={width:n.innerWidth,height:n.innerHeight},la=k.hasOverride?k:void 0,B=null;if(k.enableReceiveUrlLocation||k.enableSharingUrlLocation)B=r.hostname?r.href:r.ancestorOrigins[0];var G=null;try{G=(new URL(document.referrer)).origin}catch(u){}return Promise.all([function(){return lb.includes(null===p||void 0===p?void 0:p.ownerId)?new Promise(function(u,H){window._dmDynamicImportPolyfill("pes.liveramp.16b2ae61.js").then(function(){return window.dailymotion._do_not_use_07eff3cdc5fbd340477d.getLiverampEnvelope()}).then(u)["catch"](function(w){return H(w)})}):
Promise.resolve(null)}(),fb()]).then(function(u){u=aa(u,1)[0];M("_TEST_","1");S="1"===N("_TEST_");M("_TEST_",null,0);z()?T=S:"undefined"!==typeof window.dmCookie3rdPartyAllowed&&(T=window.dmCookie3rdPartyAllowed,delete window.dmCookie3rdPartyAllowed);var H=T,w=N("v1st_dm");H?(l.log("Config","Got v1st from backend, 3rd party cookie allowed"),D=q.v1st):(null===w||void 0===w?0:w.match(kb))?(l.log("Config",'Got v1st from 1st party cookie "v1st_dm"'),D=w):(l.log("Config",'Got v1st from backend, v1st_dm created because 3rd party cookie not allowed and 1st party cookie "v1st_dm" does not exist'),
D=q.v1st,Ea&&M("v1st_dm",D,604800));var v;!1!==(null===(v=q.player)||void 0===v?void 0:v.enableAds)&&(v=N("uid_dm"),da=(null===v||void 0===v?0:v.match(Fa))?v:O());return JSON.stringify({dmInternalData:{cookies1stPartyAvailable:S,cookies3rdPartyAvailable:T,embedder:B,embedIndex:b,forcedSettings:la,gatekeepers:m,iframeId:a,initialViewportSize:ka,liverampEnvelope:u,logger:va(),neonTrackingData:A,pesIframeIndex:e,pesIntegrationType:f,pesLastEventTs:ja,pesPlayerVersion:"v-0.0.3352-rc1",pesUUID:c,pubtool:g,
referer:G,targetOrigin:y,ts:h,uid:da,v1st:D}})})},Bb=function(a,b){var c=document.createElement("div");c.id=a;c.classList.add("dailymotion-player-root");c.classList.add("dailymotion-player-".concat(b));return c},Cb=function(){var a=document.createElement("div");a.className="dailymotion-player-wrapper";Object.assign(a.style,{height:"100%",overflow:"hidden",position:"absolute",width:"100%",margin:"0.00001px"});return a},L=function(){console.warn("PIP is disabled in the configuration")},Eb=function(a){l.log("API",
"dailymotion.forwardNeonTrackingData(data), with data:",a);var b=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players,c=Object.keys(b);0===c.length?window.dailymotion._do_not_use_07eff3cdc5fbd340477d.neonTrackingData=a:Q(b[c[0]],P.UPDATE_NEON_TRACKING_DATA,a)},Fb=function(){var a=q.udger;a=void 0===a?{}:a;return{osFamily:a.browserOsFamily,osName:a.browserOsName,uaFamily:a.browserUaFamily,uaName:a.browserUaName,uaVersion:a.browserUaVersion}},Gb=x({events:t.PUBLIC,createPlayer:function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=window.dailymotion._do_not_use_07eff3cdc5fbd340477d,e=c.settings,f=c.embedScriptIndex;c=c.pesUUID;var g=document.querySelector("#".concat(a));if(!g)return Promise.reject(Error("".concat("DOM element ID not found"," : #").concat(a)));if(g.classList.contains("dailymotion-player-wrapper"))return Promise.reject(Error("".concat("A player instance is already attached to this DOM element"," : #").concat(a)));if(b&&"object"!==C(b))return Promise.reject(Error("Player options invalid, please use an object"));
b.player||(1===Object.keys(e).length?b.player=Object.keys(e)[0]:(1<Object.keys(e).length&&console.warn("Several player configurations are imported, please specify a player configuration ID"),b.player="default"));return ab.create(g,f,c,"lib",{videoId:b.video,playlistId:b.playlist,playerId:b.player,params:b.params,settings:b.settings,referrerPolicy:b.referrerPolicy}).then(function(k){return k.initialize()})},getAllPlayers:function(){var a=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players,
b=[];if(0===Object.keys(a).length)return Error("No player found in the page");Object.values(a).forEach(function(c){return b.push(c.initialize())});return b},getPlayer:function(a){var b=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.players,c=b[a];return 0===Object.keys(b).length?Promise.reject(Error("No player found in the page")):void 0===a?1<Object.keys(b).length?Promise.reject(Error("There are multiple players in the page, please specify an ID")):Object.values(b)[0].initialize():void 0===
c?Promise.reject(Error("".concat("Player ID not found"," : #").concat(a))):c.initialize()},pipClose:L,pipCollapse:L,pipExpand:L,pipRepaint:L,pipResume:L},z()&&{forwardNeonTrackingData:Eb,getEnvironmentInfo:Fb},{_do_not_use_07eff3cdc5fbd340477d:{api:null,embedScriptIndex:1,iframeIndex:1,neonTrackingData:null,pesUUID:null,players:{},playerSelectedForPip:null,screenId:O(),settings:{}}}),ma;window._dmDynamicImportPolyfill=function(a){var b="pes-".concat(a),c=document.querySelector('script[id="'.concat(b,
'"]'));if(c)return xa(c);c=document.createElement("script");c.src="".concat("https://static1.dmcdn.net/playerv5","/").concat(a);c.id=b;a=xa(c);document.body.appendChild(c);return a};var U=q.player;if(!U)throw Error("Backend settings not set");var Hb=U.id,Ib=U.status,V=document.currentScript,W=V.dataset,bb=W.video,cb=W.playlist,Jb=W.params,Kb=W.settings,Lb=V.referrerPolicy,X=0,db=!bb&&!cb,na=V.src.match(/\/libs\//);null!==(ma=window.dailymotion)&&void 0!==ma&&ma.createPlayer||(window.dailymotion=x({},
window.dailymotion,{},Gb));var Y=O();window.dailymotion._do_not_use_07eff3cdc5fbd340477d.pesUUID=Y;l.log("PES UUID",Y);"not_found"!==Ib&&Ca(U);"function"===typeof window.dailymotion.onScriptLoaded&&(window.dailymotion.onScriptLoaded(),delete window.dailymotion.onScriptLoaded);na?l.log("Library script loaded"):(X=window.dailymotion._do_not_use_07eff3cdc5fbd340477d.embedScriptIndex++,l.log("Embed script loaded","Index ".concat(X)),wb(X,db),ab.create(V,X,Y,"embed",{videoId:bb,playlistId:cb,playerId:Hb,
params:Jb,settings:Kb,referrerPolicy:Lb}).then(function(a){return a.initialize()}));Ya({name:"vital_pes_enter",emptyPlayer:na?null:db,pesUUID:Y,pesIntegrationType:na?"lib":"embed"});return{B:Ha,C:P,E:300,_:ua,a:I,b:Ja,c:function(a){return Object.values(t.PUBLIC).includes(a)},d:t,e:R,f:function(a){return ca(a,"isPublic")},g:function(a){a={channel:"player",edward:"1.1",sent_ts:Date.now(),events:a.map(ha),stack_ctx:{player_stack:"noworker"}};window.fetch("https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(a)})},
h:x,i:z,j:Z,k:ya,l,m:Aa,s:Q,u:Ia}}()
